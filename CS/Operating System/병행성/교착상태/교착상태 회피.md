교착상태 발생조건 중 [[상호배제]], 점유대기, [[비선점]]을 허용한다.
[[환형대기]] 상태 예방처럼 자원 할당 순서를 미리 정하지 않는다.

대신 실행 중에 자원을 할당할 때, ==교착상태가 발생하지 않는 방향으로 자원을 할당==한다.
- 그렇기 때문에 현재의 자원 상황과 미래의 자원 요청 정보가 필요하다.

교착상태를 예측하고 회피하는 것이 아니라, **교착상태의 발생 가능성을 회피**하는 것이다!

## 프로세스 시작 거부

프로세스 시작 시, 교착상태가 발생할 가능성이 있으면 ==프로세스의 시작을 거부==한다.

전체 자원의 양이 (**현재 수행 중인 모든 프로세스의 최대 자원 요구량** + **새로운 프로세스의 최대 자원 요구량**)을 모두 수용할 수 있을 때만 새로운 프로세스를 실행한다.


## 프로세스 수행 중 자원 할당 거부

프로세스 시작 후 자원을 요청할 때, 교착상태가 발생할 가능성이 있으면 ==자원 할당을 거부==한다.
- 교착상태의 가능성이 없으면 자원을 할당한다.

### 상태

#### 안전한 상태
- 교착상태가 발생하지 않도록 프로세스에게 ==자원을 할당할 수 있는 경로가 존재하는 경우==
	- 필요 시 프로세스의 순서를 바꿔서라도 가능한 경우
 
#### 불안전한 상태
- 교착상태가 발생하지 않도록 프로세스에게 ==자원을 할당할 수 있는 경로가 존재하지 않는 경우==
- 반드시 교착상태가 발생하는 것은 아니며, 단지 발생할 가능성이 높은 상태이다.

### 은행원 알고리즘

고객(프로세스)은 빌리기 원하는 총 금액까지 대출을 계속 시도한다.
은행원(운영체제)은 남은 돈을 고려해 대출 요청을 거부할 수 있다.

결론적으로 은행원은 **한 고객의 요구를 모두 받아들일 수 있을 만큼의 잔고(자원)를 고려**해 **대출을 결정**(자원 할당)해야 한다.

## 장점

1. [[교착상태 예방]]에 비해 자원할당이 더 자유로워 자원 효율이 높아진다.
	1. 교착상태 예방에 비해 덜 제한적이다.
2. [[교착상태 발견]]에 비해 선점이나 롤백의 필요가 없다.

## 단점

1. 각 프로세스들이 사용할 최대 자원 요구량을 운영체제에게 미리 알려주어야 한다.
2. 프로세스들은 서로 독립적이어야 한다.
	1. 누가 먼저 수행되는 등 수행 순서 종속관계가 없어야 한다.
	2. 안전한 상태 -> 필요 시 프로세스의 순서를 바꿔서라도 자원을 할당한다.
3. 자원 개수가 고정되어 있어야 한다.
	1. 고정된 총 자원량을 기준으로 계산하기 때문이다.
4. 자원을 선점한 채 종료하는 프로세스가 없어야 한다.
