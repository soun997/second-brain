
## 인덱스 클러스터 테이블

![[Pasted image 20231126230443.png|500]]

클러스터 값이 같은 레코드를 한 블록에 모아서 저장하는 구조이다.

한 블록에 모두 값을 담을 수 없는 경우에는, 새로운 블록을 할당해 **클러스터 체인으로 연결**한다.

여러 테이블 레코드를 같은 블록에 저장할 수 있다.
- 이를 **다중 테이블 클러스터** 라고 부른다.

### 클러스터 인덱스

일반 인덱스 레코드는 테이블 레코드와 1:1 대응 관계를 갖는다.

이와는 다르게 **클러스터 인덱스는 테이블과 1:M 대응 관계를 갖는다.**
- 해당 키 값을 저장하는 첫번째 데이터 블록을 가리킨다.

1. 데이터는 정렬되어 있다.
2. 테이블 당 1개만 존재
3. primary 등을 사용할 경우 자동으로 생성


### 왜 사용하는가?

이러한 구조적 특성 덕분에 인덱스를 스캔하면서 값을 찾을 때, 
(클러스터 체인을 스캔을 제외하고) 랜덤 액세스가 값 하나당 한 번씩 밖에 발생하지 않는다.

클러스터에 도달해서는 시퀀셜 방식으로 스캔하기 때문에 넓은 범위를 읽더라도 비효율이 없다.

### 단점

삽입 시의 성능이 떨어지게 된다.


## 해시 클러스터 테이블

![[Pasted image 20231126230454.png|500]]

인덱스를 사용하지 않고 해시 알고리즘을 사용해 클러스터를 찾아간다.