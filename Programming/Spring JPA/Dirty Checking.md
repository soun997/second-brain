JPA에서 제공하는 변경감지 기능이다.

## 작동 방식

1. 영속성 컨텍스트 내에서 최초 조회 시의 Entity에 대한 스냅샷을 보관한다.
2. 트랜잭션 commit 시, EntityManager가 `flush()`를 수행하면서 스냅샷과 Entity를 비교한다.
3. 변경 내용에 대해 쓰기 지연 SQL 저장소에 update query를 저장한다.
4. query를 DB에 날리고 트랜잭션을 commit한다.


## 모든 필드에 대해 update 쿼리를 날리는 이유

Dirty Checking으로 인해 발생한 update query를 확인해보면 **모든 필드에 대한 update query**가 발생한다.
DB에 보내는 **데이터 전송량이 증가**하기 때문에 비효율적일 것 같은데 왜 이렇게 동작하는 걸까?

### 장점

가장 큰 이유는 Query를 재사용할 수 있다는 것이다.

JPA는 애플리케이션 로딩 시점에 update query를 만들어두고 이를 가져다 쓸 수 있다.
DB 또한 동일한 쿼리에 대해 실행계획을 또 다시 세우지 않는다.
- 즉, **성능상으로 이점을 가진다.**


