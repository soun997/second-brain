> Optimistic Lock

## 비관적 락이란?

> 트랜잭션이 충돌한다고 가정하고 락을 건다.

비관적 락은 데이터베이스의 트랜잭션 락 기능을 사용한다. (`SELECT FOR UPDATE` 구문 사용)
- `SELECT FOR UPDATE`: 나 데이터 수정하려고 `SELECT` 중이니까 내 데이터에 손 대지 마!
- 즉, 동시성 제어를 위해 데이터(ROW)에 배타락을 거는 것이다.

## 비관적 락의 특징

- 엔티티가 아닌 스칼라 값을 조회할 때도 사용 가능하다.
- 데이터를 수정하는 즉시 트랜잭션 충돌을 감지할 수 있다. (`SELECT FOR UPDATE`)
	- 다른 트랜잭션에서 수정을 위해 해당 ROW에 배타락을 걸었다면, 현재 트랜잭션은 `SELECT`에서 막혀버린다.
- 버전을 사용하지 않지만, 예외가 있긴 하다.
- 데이터베이스의 트랜잭션 락을 사용한다.


## Ref

[트랜잭션과 락 - 3. 낙관적 락과 비관적 락](https://velog.io/@on5949/JPA-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EA%B3%BC-%EB%9D%BD-3.-%EB%82%99%EA%B4%80%EC%A0%81-%EB%9D%BD%EA%B3%BC-%EB%B9%84%EA%B4%80%EC%A0%81-%EB%9D%BD)